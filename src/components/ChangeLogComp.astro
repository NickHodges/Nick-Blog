---
// Import the changelog data
import changelogData from '@data/changelog.json';

// Define TypeScript types for the changelog entries
type ChangelogEntry = {
  date: string;
  event: string;
  comments: string;
};

// Assert the imported data matches the ChangelogEntry type
const data: ChangelogEntry[] = changelogData as ChangelogEntry[];
---

<div class="overflow-x-auto">
  <table class="changelog-table min-w-full">
    <thead>
      <tr>
        <th>Date</th>
        <th>Event</th>
        <th>Comments</th>
      </tr>
    </thead>
    <tbody>
      {
        data.map((entry: ChangelogEntry) => (
          <tr>
            <td>{entry.date}</td>
            <td>{entry.event}</td>
            <td>{entry.comments}</td>
          </tr>
        ))
      }
    </tbody>
  </table>
</div>

<style>
  .changelog-table {
    width: 100%;
    border-collapse: collapse;
    margin: 1rem 0;
  }

  .changelog-table th {
    background-color: hsl(var(--theme-bg));
    color: hsl(var(--theme-accent));
    text-align: left;
    padding: 0.75rem;
    border-bottom: 2px solid hsl(var(--theme-text) / 0.2);
  }

  .changelog-table td {
    padding: 0.75rem;
    border-bottom: 1px solid hsl(var(--theme-text) / 0.1);
  }

  .changelog-table tbody tr:nth-child(even) {
    background-color: hsl(var(--theme-bg) / 0.5);
  }

  .changelog-table tbody tr:hover {
    background-color: hsl(var(--theme-accent) / 0.1);
  }
</style>
